# FlowTunnel - Quick Start Guide
# Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³Ø±ÛŒØ¹

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 Ø³Ù†Ø§Ø±ÛŒÙˆ: ØªÙˆÙ†Ù„ Ø§ÛŒØ±Ø§Ù† â†’ Ø®Ø§Ø±Ø¬ Ø¨Ø±Ø§ÛŒ VPN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## Ù…Ø±Ø­Ù„Ù‡ 1: Ù†ØµØ¨ Ø±ÙˆÛŒ Ø³Ø±ÙˆØ± Ø®Ø§Ø±Ø¬ (Kharej)

```bash
# Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª
wget https://raw.githubusercontent.com/.../install-flowtunnel.sh

# Ù†ØµØ¨
bash install-flowtunnel.sh

# ÛŒØ§ Ù†ØµØ¨ Ø¯Ø³ØªÛŒ:
chmod +x flowtunnel.sh
mv flowtunnel.sh /usr/local/bin/flowtunnel
```

## Ù…Ø±Ø­Ù„Ù‡ 2: Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³Ø±ÙˆØ± Ø®Ø§Ø±Ø¬

```bash
# Ø§Ø¬Ø±Ø§
flowtunnel

# Ú¯Ø²ÛŒÙ†Ù‡ 1: Install FlowTunnel
# Ú¯Ø²ÛŒÙ†Ù‡ 2: Add Tunnel
# Ú¯Ø²ÛŒÙ†Ù‡ 2: Kharej Server

# Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:
Tunnel name: vpn-backend
Listen Port: 8443                    # Ù¾ÙˆØ±ØªÛŒ Ú©Ù‡ Ø§ÛŒØ±Ø§Ù† Ø¨Ù‡ Ø¢Ù† Ù…ØªØµÙ„ Ù…ÛŒâ€ŒØ´ÙˆØ¯
VPN Server IP: 127.0.0.1            # IP Ø³Ø±ÙˆØ± VPN (Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ localhost)
VPN Server Port: 1194                # Ù¾ÙˆØ±Øª VPN (Ù…Ø«Ù„Ø§Ù‹ OpenVPN)

# ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ú©Ù†ÛŒØ¯:
# - IP Ø³Ø±ÙˆØ± Ø®Ø§Ø±Ø¬: Ù…Ø«Ù„Ø§Ù‹ 45.76.123.45
# - Ù¾ÙˆØ±Øª ØªØ§Ù†Ù„: 8443
```

## Ù…Ø±Ø­Ù„Ù‡ 3: Ù†ØµØ¨ Ø±ÙˆÛŒ Ø³Ø±ÙˆØ± Ø§ÛŒØ±Ø§Ù†

```bash
# Ø¯Ø§Ù†Ù„ÙˆØ¯ Ùˆ Ù†ØµØ¨
bash <(wget -qO- https://raw.githubusercontent.com/.../install-flowtunnel.sh)

# ÛŒØ§ Ø¯Ø³ØªÛŒ
flowtunnel
```

## Ù…Ø±Ø­Ù„Ù‡ 4: Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³Ø±ÙˆØ± Ø§ÛŒØ±Ø§Ù†

```bash
flowtunnel

# Ú¯Ø²ÛŒÙ†Ù‡ 1: Install FlowTunnel
# Ú¯Ø²ÛŒÙ†Ù‡ 2: Add Tunnel
# Ú¯Ø²ÛŒÙ†Ù‡ 1: Iran Server

# Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:
Tunnel name: iran-proxy
Listen Port: 443                     # Ù¾ÙˆØ±ØªÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ù‡ Ø¢Ù† Ù…ØªØµÙ„ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯
Backend IP: 45.76.123.45            # IP Ø³Ø±ÙˆØ± Ø®Ø§Ø±Ø¬ (Ø§Ø² Ù…Ø±Ø­Ù„Ù‡ 2)
Backend Port: 8443                   # Ù¾ÙˆØ±Øª ØªØ§Ù†Ù„ Ø®Ø§Ø±Ø¬ (Ø§Ø² Ù…Ø±Ø­Ù„Ù‡ 2)
Rotation Interval: 30                # ØªØ¹ÙˆÛŒØ¶ Ù‡Ø± 30 Ø«Ø§Ù†ÛŒÙ‡ (ØªÙˆØµÛŒÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯)

# ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ú©Ù†ÛŒØ¯:
# - IP Ø³Ø±ÙˆØ± Ø§ÛŒØ±Ø§Ù†: Ù…Ø«Ù„Ø§Ù‹ 185.20.30.40
# - Ù¾ÙˆØ±Øª Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†: 443
```

## Ù…Ø±Ø­Ù„Ù‡ 5: ØªÙ†Ø¸ÛŒÙ… VPN Clients

### Ø¨Ø±Ø§ÛŒ OpenVPN:

```ovpn
client
dev tun
proto tcp
remote 185.20.30.40 443         # IP Ø§ÛŒØ±Ø§Ù† Ùˆ Ù¾ÙˆØ±Øª ØªØ§Ù†Ù„
resolv-retry infinite
nobind
persist-key
persist-tun
cipher AES-256-CBC
verb 3

<ca>
...Ú©Ù„ÛŒØ¯ CA Ø´Ù…Ø§...
</ca>

<cert>
...Ú¯ÙˆØ§Ù‡ÛŒ Ø´Ù…Ø§...
</cert>

<key>
...Ú©Ù„ÛŒØ¯ Ø®ØµÙˆØµÛŒ Ø´Ù…Ø§...
</key>
```

### Ø¨Ø±Ø§ÛŒ WireGuard:

```ini
[Interface]
PrivateKey = YOUR_PRIVATE_KEY
Address = 10.0.0.2/24

[Peer]
PublicKey = SERVER_PUBLIC_KEY
Endpoint = 185.20.30.40:443      # IP Ø§ÛŒØ±Ø§Ù† Ùˆ Ù¾ÙˆØ±Øª ØªØ§Ù†Ù„
AllowedIPs = 0.0.0.0/0
PersistentKeepalive = 25
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 Ù†Ú©Ø§Øª Ù…Ù‡Ù…
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Ù¾ÙˆØ±Øªâ€ŒÙ‡Ø§ÛŒ ØªÙˆØµÛŒÙ‡â€ŒØ´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ±Ø§Ù†:
  - 443 (HTTPS)
  - 80 (HTTP)
  - 22 (SSH)
  - 53 (DNS)

âœ“ Rotation Interval Ø¨Ù‡ÛŒÙ†Ù‡:
  - ÙÛŒÙ„ØªØ±ÛŒÙ†Ú¯ Ø´Ø¯ÛŒØ¯: 15-20 Ø«Ø§Ù†ÛŒÙ‡
  - ÙÛŒÙ„ØªØ±ÛŒÙ†Ú¯ Ù…ØªÙˆØ³Ø·: 30-40 Ø«Ø§Ù†ÛŒÙ‡
  - ÙÛŒÙ„ØªØ±ÛŒÙ†Ú¯ Ù…Ù„Ø§ÛŒÙ…: 60-90 Ø«Ø§Ù†ÛŒÙ‡

âœ“ Ø¨Ø±Ø±Ø³ÛŒ Ø¹Ù…Ù„Ú©Ø±Ø¯:
```bash
# Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙˆØ¶Ø¹ÛŒØª
systemctl status flowtunnel-iran-443

# Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø²Ù†Ø¯Ù‡
journalctl -u flowtunnel-iran-443 -f

# Ø¨Ø±Ø±Ø³ÛŒ Ø§ØªØµØ§Ù„Ø§Øª
ss -tn | grep :443
```

âœ“ Ø¹ÛŒØ¨â€ŒÛŒØ§Ø¨ÛŒ:
```bash
# Ø§Ú¯Ø± ØªØ§Ù†Ù„ ÙˆØµÙ„ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯:
1. Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯ Ø³Ø±ÙˆÛŒØ³ ÙØ¹Ø§Ù„ Ø§Ø³Øª:
   systemctl status flowtunnel-*

2. ÙØ§ÛŒØ±ÙˆØ§Ù„ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯:
   ufw allow 443/tcp
   ufw allow 8443/tcp  # Ø±ÙˆÛŒ Ø®Ø§Ø±Ø¬

3. Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯ backend Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø§Ø³Øª:
   telnet KHAREJ_IP 8443
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…ÙÛŒØ¯
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Ø§Ø¬Ø±Ø§ÛŒ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
flowtunnel

# Ù…Ø´Ø§Ù‡Ø¯Ù‡ ØªÙ…Ø§Ù… ØªØ§Ù†Ù„â€ŒÙ‡Ø§
systemctl list-units flowtunnel-*

# Ø±ÛŒâ€ŒØ§Ø³ØªØ§Ø±Øª ÛŒÚ© ØªØ§Ù†Ù„
systemctl restart flowtunnel-iran-443

# ØªÙˆÙ‚Ù ØªØ§Ù†Ù„
systemctl stop flowtunnel-iran-443

# Ø­Ø°Ù Ú©Ø§Ù…Ù„
flowtunnel  # Ø³Ù¾Ø³ Ú¯Ø²ÛŒÙ†Ù‡ Uninstall

# ØªØ³Øª ØªØ§Ù†Ù„
bash test-flowtunnel.sh

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø±Ø§ÛŒ ØªØ±Ø§ÙÛŒÚ© Ø¨Ø§Ù„Ø§
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

```bash
# Ø§ÙØ²Ø§ÛŒØ´ Ø­Ø¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²
echo "* soft nofile 1048576" >> /etc/security/limits.conf
echo "* hard nofile 1048576" >> /etc/security/limits.conf

# Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ kernel
cat >> /etc/sysctl.conf << EOF
net.ipv4.tcp_fin_timeout=15
net.ipv4.tcp_tw_reuse=1
net.core.somaxconn=65535
net.ipv4.tcp_max_syn_backlog=8192
net.core.netdev_max_backlog=5000
net.ipv4.tcp_fastopen=3
net.ipv4.tcp_slow_start_after_idle=0
EOF

sysctl -p
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 Ø§Ù…Ù†ÛŒØª
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

```bash
# Ù†ØµØ¨ Ùˆ ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ ÙØ§ÛŒØ±ÙˆØ§Ù„
apt install ufw
ufw default deny incoming
ufw default allow outgoing
ufw allow 22/tcp    # SSH
ufw allow 443/tcp   # ØªØ§Ù†Ù„
ufw enable

# Ù…Ø­Ø¯ÙˆØ¯Ø³Ø§Ø²ÛŒ Ø§ØªØµØ§Ù„Ø§Øª SSH (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
apt install fail2ban
systemctl enable fail2ban
systemctl start fail2ban

# Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ù†Ø¸Ù…
apt update && apt upgrade -y
```

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 Ù¾Ø§ÛŒØ§Ù† Ø±Ø§Ù‡Ù†Ù…Ø§
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ø¨Ø±Ø§ÛŒ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„: README.md
Ø¨Ø±Ø§ÛŒ ØªØ³Øª: bash test-flowtunnel.sh
Ø¨Ø±Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ: https://github.com/yourusername/flowtunnel/issues

Ù…ÙˆÙÙ‚ Ø¨Ø§Ø´ÛŒØ¯! ğŸš€
